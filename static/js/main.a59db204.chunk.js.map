{"version":3,"sources":["components/UserListItem/index.js","components/UserListItem/UserListItem.js","components/UserList/index.js","components/UserList/UserList.js","api/api.js","components/MonthListItem/index.js","components/MonthListItem/MonthListItem.js","components/MonthList/index.js","components/MonthList/MonthList.js","components/App/App.js","index.js"],"names":["UserListItem","props","firstName","lastName","dob","className","UserList","users","usersList","map","user","id","userProps","key","_url","errObj","url","status","message","fetch","this","res","ok","json","fetchData","MonthListItem","state","color","count","setState","console","log","name","changeFilter","onMouseOver","React","Component","MonthList","months","monthList","month","monthProps","App","updateMonthsArray","monthIndex","findIndex","item","slice","onFilterChange","filter","loaded","err","Api","get","then","data","forEach","Date","Number","getMonth","catch","visibleUsers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a59db204.chunk.js","sourcesContent":["import UserListItem from \"./UserListItem\";\n\nexport default UserListItem;\n","import React from \"react\";\nimport \"./UserListItem.css\";\n\nconst UserListItem = (props) => {\n  const { firstName, lastName, dob } = props;\n\n  return (\n    <div className=\"user\">\n      <p className=\"name\">Name: {firstName} {lastName}</p>\n      <p> DOB: {dob}</p>\n    </div>\n  )\n};\n\nexport default UserListItem;\n","import UserList from \"./UserList\";\n\nexport default UserList;\n","import React from \"react\";\nimport UserListItem from \"../UserListItem\";\nimport \"./userList.css\";\n\nconst UserList = ({ users }) => {\n  const usersList = users.map((user) => {\n    const { id, ...userProps } = user;\n\n    return (\n      <div key={id}>\n        <UserListItem\n          {...userProps}\n        />\n      </div>\n    );\n  });\n\n  if (users) {\n    return <div className=\"user-list\">{usersList}</div>;\n  } else {\n    return null;\n  }\n};\n\nexport default UserList;\n","class Api {\n  _url = 'https://yalantis-react-school-api.yalantis.com/api/task0/users';\n\n  errObj = (url, status) => {\n    return {\n      message: `Invalid request: ${url}, status ${status}`,\n      status: status\n    };\n  };\n\n  async fetchData() {\n    const res = await fetch(`${this._url}`);\n    if (!res.ok) {\n      throw this.errObj(`${this._url}`, res.status);\n    }\n    return res.json();\n  }\n\n  async get() {\n    return this.fetchData();\n  }\n}\n\nexport default new Api();","import MonthListItem from \"./MonthListItem\";\n\nexport default MonthListItem;\n","import React from \"react\";\nimport \"./monthListItem.css\";\n\nclass Month extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      color: ''\n    }\n  }\n\n  componentDidMount() {\n    const { count } = this.props;\n\n    if (count >= 11) {\n      this.setState({ color: 'red' })\n    } else if (count < 11 && count >= 7) {\n      this.setState({ color: 'green' })\n    } else if (count < 7 && count >= 3) {\n      this.setState({ color: 'blue' })\n    } else if (count < 3) {\n      this.setState({ color: 'grey' })\n    }\n    console.log(this.state.color)\n  }\n\n  render() {\n    const {name, count, changeFilter} = this.props;\n\n    return (\n      <div className={`user ${this.state.color}`} onMouseOver={changeFilter}>\n        {name}, {count}\n      </div>\n    )\n  }\n}\n\nexport default Month;\n","import MonthList from \"./MonthList\";\n\nexport default MonthList;\n","import React from \"react\";\nimport MonthListItem from \"../MonthListItem\";\nimport \"./monthList.css\";\n\nconst MonthList = ({months, changeFilter}) => {\n  const monthList = months.map((month) => {\n    const { id, ...monthProps } = month;\n\n    return (\n      <div key={id}>\n        <MonthListItem\n          {...monthProps}\n          changeFilter={() => changeFilter(id)}\n        />\n      </div>\n    );\n  });\n\n  if (months) {\n    return <div className=\"month-list\">{monthList}</div>;\n  } else {\n    return null;\n  }\n};\n\nexport default MonthList;\n","import React from 'react';\nimport UserList from '../UserList'\n\nimport Api from '../../api/api';\nimport './App.css';\nimport MonthList from \"../MonthList\";\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      months: [\n        { id: 0, name: \"January\", count: 0 },\n        { id: 1, name: \"February\", count: 0 },\n        { id: 2, name: \"March\", count: 0 },\n        { id: 3, name: \"April\", count: 0 },\n        { id: 4, name: \"May\", count: 0 },\n        { id: 5, name: \"June\", count: 0 },\n        { id: 6, name: \"July\", count: 0 },\n        { id: 7, name: \"August\", count: 0 },\n        { id: 8, name: \"September\", count: 0 },\n        { id: 9, name: \"October\", count: 0 },\n        { id: 10, name: \"November\", count: 0 },\n        { id: 11, name: \"December\", count: 0 }\n      ],\n      filter: null,\n      loaded: false,\n      err: {}\n    };\n  }\n\n  componentDidMount() {\n    Api.get()\n      .then((data) => {\n        this.setState({users: data});\n        data.forEach((user) => {\n          const dob = new Date(user.dob);\n\n          this.state.months.forEach((month) => {\n            if (month.id === Number(dob.getMonth())) {\n              this.updateMonthsArray(month)\n            }\n          })\n        });\n        this.setState({loaded: true});\n        console.log(this.state.months)\n      })\n      .catch((err) => {\n        this.setState({err: err})\n      })\n  }\n\n  updateMonthsArray = (month) => {\n    const monthIndex = this.state.months.findIndex(item => item.id === month.id);\n    const updateMonth = (item, count) => {\n      return {\n        ...item,\n        count: item.count + count\n      }\n    };\n\n    this.setState(({ months }) => ({\n      months: [...months.slice(0, monthIndex),  updateMonth(months[monthIndex], 1), ...months.slice(monthIndex + 1)]\n    }))\n  };\n\n  onFilterChange = (month) => {\n    this.setState({ filter: month })\n  };\n\n  render() {\n    const { months, users, loaded, filter } = this.state;\n    const userMonthOfBirth = (user) => Number(new Date(user.dob).getMonth());\n    const visibleUsers = users.filter((item) => userMonthOfBirth(item) === filter);\n\n    return (\n      <div className=\"wrapper\">\n        {loaded && <MonthList months={months} changeFilter={this.onFilterChange}/>}\n        {filter === null ? 'Hold' : <UserList users={visibleUsers} />}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}