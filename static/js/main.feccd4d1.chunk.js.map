{"version":3,"sources":["components/MonthListItem/index.js","components/MonthListItem/MonthListItem.js","components/UserListItem/index.js","components/UserListItem/UserListItem.js","components/List/index.js","components/List/List.js","api/api.js","components/App/App.js","index.js"],"names":["MonthListItem","props","changeFilter","state","color","count","this","setState","name","isActive","id","filter","boxShadow","textShadow","transitionProperty","transitionDuration","transitionTimingFunction","className","onMouseOver","style","React","Component","UserListItem","firstName","lastName","dob","Date","toLocaleString","year","month","day","List","items","isUsers","list","map","item","itemProps","key","_url","errObj","url","status","message","fetch","res","ok","json","fetchData","App","updateMonthsArray","monthIndex","months","findIndex","slice","onFilterChange","users","loaded","err","Api","get","then","data","forEach","user","Number","getMonth","catch","visibleUsers","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.feccd4d1.chunk.js","sourcesContent":["import MonthListItem from \"./MonthListItem\";\n\nexport default MonthListItem;\n","import React from \"react\";\nimport \"./monthListItem.css\";\n\nclass Month extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      color: ''\n    }\n  }\n\n  componentDidMount() {\n    const { count } = this.props;\n\n    if (count >= 11) {\n      this.setState({ color: 'darkred' })\n    } else if (count < 11 && count >= 7) {\n      this.setState({ color: 'darkgreen' })\n    } else if (count < 7 && count >= 3) {\n      this.setState({ color: 'darkblue' })\n    } else if (count < 3) {\n      this.setState({ color: 'grey' })\n    }\n  }\n\n  changeFilter = () => {\n    this.props.changeFilter();\n  };\n\n  render() {\n    const {name, id, filter} = this.props;\n    const isActive = id === filter ? {\n      boxShadow: `0 0 5px white, 0 0 10px white, 0 0 15px ${this.state.color}, 0 0 20px ${this.state.color}, 0 0 25px ${this.state.color}, 0 0 30px ${this.state.color}, 0 0 35px ${this.state.color}`,\n      textShadow: `0 0 5px white, 0 0 10px white, 0 0 15px ${this.state.color}, 0 0 20px ${this.state.color}, 0 0 25px ${this.state.color}, 0 0 30px ${this.state.color}, 0 0 35px ${this.state.color}`,\n      transitionProperty: 'all',\n      transitionDuration: '0.2s',\n      transitionTimingFunction: 'ease'\n    } : {};\n\n    return (\n      <div className={`month ${this.state.color}`}\n           onMouseOver={this.changeFilter}\n           style={isActive}\n           >\n        {name}\n      </div>\n    )\n  }\n}\n\nexport default Month;\n","import UserListItem from \"./UserListItem\";\n\nexport default UserListItem;\n","import React from \"react\";\nimport \"./UserListItem.css\";\n\nconst UserListItem = (props) => {\n  const {firstName, lastName, dob} = props;\n  const dateOption = {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  };\n\n  return (\n    <div className=\"user\">\n      <div className=\"name\">\n        <b>Name:</b> {firstName} {lastName}\n      </div>\n      <div className=\"date\"> <b>DOB: </b>\n        {new Date(dob).toLocaleString(\"en-US\", dateOption)}\n      </div>\n    </div>\n  )\n};\n\nexport default UserListItem;\n","import List from \"./List\";\n\nexport default List;\n","import React from \"react\";\nimport MonthListItem from \"../MonthListItem\";\nimport UserListItem from \"../UserListItem\";\nimport \"./list.css\";\n\nconst List = ({items, isUsers, filter, changeFilter}) => {\n  const list = items.map((item) => {\n    const {id, ...itemProps} = item;\n\n    return (\n      <div key={id}>\n        {isUsers ? <UserListItem {...itemProps} /> :\n          <MonthListItem\n            {...item}\n            filter={filter}\n            changeFilter={() => changeFilter(id)}\n          />\n        }\n      </div>\n    );\n  });\n\n  if (items) {\n    return <div className=\"list\">{list}</div>;\n  } else {\n    return null;\n  }\n};\n\nexport default List;\n","class Api {\n  _url = 'https://yalantis-react-school-api.yalantis.com/api/task0/users';\n\n  errObj = (url, status) => {\n    return {\n      message: `Invalid request: ${url}, status ${status}`,\n      status: status\n    };\n  };\n\n  async fetchData() {\n    const res = await fetch(`${this._url}`);\n    if (!res.ok) {\n      throw this.errObj(`${this._url}`, res.status);\n    }\n    return res.json();\n  }\n\n  async get() {\n    return this.fetchData();\n  }\n}\n\nexport default new Api();","import React from 'react';\nimport List from '../List';\nimport Api from '../../api/api';\nimport './App.css';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      months: [\n        { id: 0, name: \"January\", count: 0 },\n        { id: 1, name: \"February\", count: 0 },\n        { id: 2, name: \"March\", count: 0 },\n        { id: 3, name: \"April\", count: 0 },\n        { id: 4, name: \"May\", count: 0 },\n        { id: 5, name: \"June\", count: 0 },\n        { id: 6, name: \"July\", count: 0 },\n        { id: 7, name: \"August\", count: 0 },\n        { id: 8, name: \"September\", count: 0 },\n        { id: 9, name: \"October\", count: 0 },\n        { id: 10, name: \"November\", count: 0 },\n        { id: 11, name: \"December\", count: 0 }\n      ],\n      filter: null,\n      loaded: false,\n      err: {}\n    };\n  }\n\n  componentDidMount() {\n    Api.get()\n      .then((data) => {\n        this.setState({users: data});\n        data.forEach((user) => {\n          const dob = new Date(user.dob);\n\n          this.state.months.forEach((month) => {\n            if (month.id === Number(dob.getMonth())) {\n              this.updateMonthsArray(month)\n            }\n          })\n        });\n        this.setState({loaded: true});\n      })\n      .catch((err) => {\n        this.setState({err: err})\n      })\n  }\n\n  updateMonthsArray = (month) => {\n    const monthIndex = this.state.months.findIndex(item => item.id === month.id);\n    const updateMonth = (item, count) => {\n      return {\n        ...item,\n        count: item.count + count\n      }\n    };\n\n    this.setState(({ months }) => ({\n      months: [...months.slice(0, monthIndex),  updateMonth(months[monthIndex], 1), ...months.slice(monthIndex + 1)]\n    }))\n  };\n\n  onFilterChange = (month) => {\n    this.setState({ filter: month })\n  };\n\n  render() {\n    const { months, users, loaded, filter } = this.state;\n    const userMonthOfBirth = (user) => Number(new Date(user.dob).getMonth());\n    const visibleUsers = users.filter((item) => userMonthOfBirth(item) === filter);\n\n    return (\n      <div className=\"wrapper\">\n        {\n          loaded && <List items={months}\n                          changeFilter={this.onFilterChange}\n                          filter={filter}\n                          isUsers={false} />\n        }\n        {\n          filter === null ? <div className='hint'>Select month</div> :\n          <List items={visibleUsers}\n                isUsers={true} />\n        }\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}